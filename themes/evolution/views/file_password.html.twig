{% extends "account/partial/layout_non_login.html.twig" %}

{% block title %}{{ t('enter_file_password', 'Enter File Password') }} - {{ file.originalFilename }}{% endblock %}
{% block description %}{{ t("file_download_description", "Download file")~' - '~file.originalFilename }}{% endblock %}
{% block keywords %}{{ file.getFileKeywords() }}{% endblock %}

{% block body %}
    <body class="page-body login-page register-page">
        <div class="login-container">
            <div class="login-header login-caret">
                <div class="login-content">
                    <a href="{{ CORE_SITE_PATH }}/" class="logo">
                        <img src="{{ theme.getMainLogoUrl() }}" alt="{{ SITE_CONFIG_SITE_NAME }}" alt="{{ SITE_CONFIG_SITE_NAME }}"/>
                    </a>
                </div>
            </div>
            <div class="login-progressbar">
                <div></div>
            </div>
            <div class="login-form">
                <div class="login-content">
                    <div class="login-main-box">

                    {% if msg_page_errors is defined %}
                        <div class="form-login-error" style="display: block;">
                            <h3>{{ t("error", "Error") }}</h3>
                            <p id="error-message-container">{{ msg_page_errors|join }}</p>
                        </div>
                    {% endif %}

                    <form method="POST" action="{{ file.getFullLongUrl() }}?pt={{ pt }}" autocomplete="off">
                        <div class="row">
                            <div class="form-group">
                                <div class="input-group"><span class="input-group-addon"><i class="fa fa-chevron-right"></i></span>
                                    <input type="password" class="form-control" placeholder="{{ t("password", "password")|title }}" tabindex="1" value="" id="filePassword" name="filePassword"/>
                                </div>
                            </div>
                            <input type="hidden" name="submitted" value="1"/>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-info btn-block btn-login">
                                    <i class="entypo-right-open-mini"></i>
                                    {{ t("access_file", "access file")|title }}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                </div>
                {% embed "account/partial/non_login_footer_links.html.twig" %}{% endembed %}
            </div>
        <!-- Bottom Scripts -->
        <script src="{{ theme.getAccountJsPath() }}/gsap/main-gsap.js"></script>
        <script src="{{ theme.getAccountJsPath() }}/bootstrap.js"></script>
        <script src="{{ theme.getAccountJsPath() }}/joinable.js"></script>
        <script src="{{ theme.getAccountJsPath() }}/resizeable.js"></script>
        <script src="{{ theme.getAccountJsPath() }}/evolution-api.js"></script>
        <script src="{{ theme.getAccountJsPath() }}/jquery.validate.min.js"></script>
        <script src="{{ theme.getAccountJsPath() }}/custom.js"></script>
    </body>
{% endblock %}

{% block footerjs %}
    {% if downloadPageData['additional_javascript_code'] is defined %}
        {{ downloadPageData['additional_javascript_code']|raw }}
    {% endif %}
{% endblock %}